<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Oasis Diagnósticos</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>

  <header class="topbar">
    <div class="brand">
      <div class="logo">OA</div>
      <div class="brandText">
        <div class="brandTitle">Oasis Diagnósticos</div>
        <div class="brandSub">Códigos + Historial técnico por cliente</div>
      </div>
    </div>

    <div class="topActions">
      <button class="btn ghost" id="btnClearForm" type="button">Limpiar</button>
      <button class="btn" id="btnSaveDiag" type="button">Guardar</button>
    </div>
  </header>

  <main class="wrap">

    <!-- CÓDIGOS -->
    <section class="card section">
      <div class="sectionHead">
        <div>
          <div class="h1">Códigos de error</div>
          <div class="muted">Busca por código o palabra: “E6”, “sensor”, “comunicación”, “descarga”, etc.</div>
        </div>
        <div class="pill" id="codesStatus">Cargando…</div>
      </div>

      <div class="grid2">
        <div class="field">
          <label>Marca</label>
          <select class="input" id="brand">
            <option value="ALL">Todas las marcas</option>
          </select>
        </div>

        <div class="field">
          <label>Buscar</label>
          <input class="input" id="codeSearch" placeholder="Ej: E1, EC, F1, comunicación, NTC..." />
        </div>
      </div>

      <div class="codesGrid" id="codeResults"></div>
    </section>

    <!-- NUEVO DIAGNÓSTICO -->
    <section class="card section">
      <div class="sectionHead">
        <div>
          <div class="h1">Nuevo diagnóstico</div>
          <div class="muted">Cliente + equipo + diagnóstico + solución. Guardas y queda en historial.</div>
        </div>
        <div class="pill" id="diagMode">Nuevo</div>
      </div>

      <div class="grid2">
        <div class="field">
          <label>Cliente</label>
          <input class="input" id="client" placeholder="Nombre del cliente" />
        </div>
        <div class="field">
          <label>Contacto</label>
          <input class="input" id="contact" placeholder="787-000-0000 / email" />
        </div>
        <div class="field">
          <label>Equipo / Marca / Modelo</label>
          <input class="input" id="equipment" placeholder="Ej: Midea 18k Inverter / Modelo..." />
        </div>
        <div class="field">
          <label>Ubicación</label>
          <input class="input" id="location" placeholder="Dirección / área" />
        </div>
        <div class="field">
          <label>Fecha</label>
          <input class="input" id="date" type="date" />
        </div>
        <div class="field">
          <label>Estado</label>
          <select class="input" id="status">
            <option value="Pendiente">Pendiente</option>
            <option value="En proceso">En proceso</option>
            <option value="Resuelto">Resuelto</option>
          </select>
        </div>
      </div>

      <div class="grid2" style="margin-top:10px">
        <div class="field">
          <label>Diagnóstico técnico</label>
          <textarea class="input" id="diagnosis" rows="5" placeholder="Qué falla, síntomas, lecturas, observaciones..."></textarea>
        </div>
        <div class="field">
          <label>Solución / Recomendación</label>
          <textarea class="input" id="solution" rows="5" placeholder="Acción correctiva, piezas, pasos, recomendaciones..."></textarea>
        </div>
      </div>

      <div class="rowBtns" style="margin-top:12px">
        <button class="btn ghost" id="btnDuplicate" type="button">Duplicar</button>
        <button class="btn danger" id="btnDeleteActive" type="button">Borrar</button>
      </div>

      <div class="hint">Tip: desde los códigos puedes “Usar en diagnóstico” y se rellena todo rápido.</div>
    </section>

    <!-- HISTORIAL -->
    <section class="card section">
      <div class="sectionHead">
        <div>
          <div class="h1">Historial</div>
          <div class="muted">Filtra por cliente, equipo, código o palabra.</div>
        </div>
        <div class="rowBtns">
          <input class="input small" id="histSearch" placeholder="Buscar historial..." />
          <button class="btn ghost" id="btnExport" type="button">Export</button>
          <button class="btn ghost" id="btnImport" type="button">Import</button>
          <input id="importFile" type="file" accept="application/json" hidden />
          <button class="btn danger" id="btnClearHist" type="button">Vaciar</button>
        </div>
      </div>

      <div class="tableWrap">
        <table class="histTable">
          <thead>
            <tr>
              <th>Fecha</th>
              <th>Cliente</th>
              <th>Equipo</th>
              <th>Estado</th>
              <th>Resumen</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody id="histBody"></tbody>
        </table>
      </div>
    </section>

  </main>

  <!-- HUB floating button -->
  <a class="hub-fab" id="hubBackBtn" href="#" title="Volver a Oasis Hub" aria-label="Volver a Oasis Hub">⟵ Hub</a>

  <script src="app.js"></script>
</body>
</html>
